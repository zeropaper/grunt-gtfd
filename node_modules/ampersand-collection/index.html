<html>

<head>
  <title>ampersand-collection</title>
  <link type="text/css" rel="stylesheet" href="../../assets/styles/styles.css" />
</head>

<body>
  <header>
    <div class="row">
      
        <ul class="breadcrumb"><li>node_modules</li></ul>
      
    </div>
    <h1>ampersand-collection</h1>
  </header>

  <nav class="docs-nav">
  <div class="search"></div>

  <div class="toggle">Files</div>

  <ul class="directory root">
  
    <li class="index">
      <a href="../../index.html">Home</a>
    </li>
  

  
    <li class="">
      
  <a href="../../Gruntfile.js.html">Gruntfile.js</a>


    </li>
  
    <li class="">
      
  
  
    <span class="dirname">lib</span>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../../lib/blocks-collection.js.html">blocks-collection.js</a>


    </li>

    

    <li class="">
      
  <a href="../../lib/index.js.html">index.js</a>


    </li>

    

    <li class="">
      
  <a href="../../lib/rendering-utils.js.html">rendering-utils.js</a>


    </li>

    
  </ul>


    </li>
  
    <li class="trail">
      
  
  
    <span class="dirname">node_modules</span>
  

  <ul class="directory">
  

    <li class="active">
      
  
  
    <a class="index" href="index.html">ampersand-collection</a>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="ampersand-collection.js.html">ampersand-collection.js</a>


    </li>

    
  </ul>


    </li>

    

    <li class="">
      
  
  
    <a class="index" href="../ampersand-model/index.html">ampersand-model</a>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../ampersand-model/ampersand-model.js.html">ampersand-model.js</a>


    </li>

    
  </ul>


    </li>

    

    <li class="">
      
  
  
    <a class="index" href="../faceted-search/index.html">faceted-search</a>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../faceted-search/index.js.html">index.js</a>


    </li>

    

    <li class="">
      
  <a href="../faceted-search/results.js.html">results.js</a>


    </li>

    

    <li class="">
      
  <a href="../faceted-search/styles.css.html">styles.css</a>


    </li>

    
  </ul>


    </li>

    

    <li class="">
      
  
  
    <a class="index" href="../files-collection/index.html">files-collection</a>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../files-collection/DOCUMENTATION.md.html">DOCUMENTATION.md</a>


    </li>

    

    <li class="">
      
  <a href="../files-collection/index.js.html">index.js</a>


    </li>

    

    <li class="">
      
  <a href="../files-collection/node.js.html">node.js</a>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>
  
    <li class="">
      
  
  
    <span class="dirname">resources</span>
  

  <ul class="directory">
  

    <li class="">
      
  
  
    <a class="index" href="../../resources/test/index.html">test</a>
  

  <ul class="directory">
  

    <li class="">
      
  
  
    <a class="index" href="../../resources/test/dir/index.html">dir</a>
  

  <ul class="directory">
  

    <li class="">
      
  
  
    <a class="index" href="../../resources/test/dir/sub/index.html">sub</a>
  

  <ul class="directory">
  
  </ul>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>

    

    <li class="">
      
  
  
    <a class="index" href="../../resources/themes/index.html">themes</a>
  

  <ul class="directory">
  

    <li class="">
      
  
  
    <a class="index" href="../../resources/themes/default/index.html">default</a>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../../resources/themes/default/file.jst.html">file.jst</a>


    </li>

    

    <li class="">
      
  <a href="../../resources/themes/default/navigation-item.jst.html">navigation-item.jst</a>


    </li>

    

    <li class="">
      
  <a href="../../resources/themes/default/navigation.jst.html">navigation.jst</a>


    </li>

    

    <li class="">
      
  
  
    <span class="dirname">assets</span>
  

  <ul class="directory">
  

    <li class="">
      
  
  
    <span class="dirname">scripts</span>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../../resources/themes/default/assets/scripts/scripts.src.js.html">scripts.src.js</a>


    </li>

    
  </ul>


    </li>

    

    <li class="">
      
  
  
    <span class="dirname">styles</span>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../../resources/themes/default/assets/styles/styles.css.html">styles.css</a>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>

    
  </ul>


    </li>
  
    <li class="">
      
  
  
    <span class="dirname">tasks</span>
  

  <ul class="directory">
  

    <li class="">
      
  <a href="../../tasks/gtfd.js.html">gtfd.js</a>


    </li>

    
  </ul>


    </li>
  
  </ul>
</nav>



  <div class="container content">
    <!-- index --><p>A way to store/manage objects or models.</p>
<p>Unlike other tools this makes no assumptions about how it’s going to be used or what type of models it is going to contain. This makes it a very flexible/useful tool for modeling all kinds of stuff.</p>
<p>It does not require underscore or jQuery, but instead makes it easy to extend with those methods if you’d like.</p>
<!-- starthide --><br>Part of the <a href="http://ampersandjs.com">Ampersand.js toolkit</a> for building clientside applications.<br><!-- endhide -->

<!-- starthide --><br>## browser support<br><br><a href="https://ci.testling.com/ampersandjs/ampersand-collection"><img src="https://ci.testling.com/ampersandjs/ampersand-collection.png" alt="browser support">
</a><br><!-- endhide -->

<h2 id="installation">Installation<a class="anchor" href="#installation"></a></h2><pre><code><pre><code class="undefined">npm i ampersand-collection</code></pre>
</code></pre><!-- starthide --><br>## massive flexibility<br><br>The collection is a fairly low-level tool, in that it’s useful for any time you want to be able to store JS objects in an array.<br><br>In many ways it’s simply an observable array of objects.<br><br>It emits events when models are added, removed, sorted and more. It also allows for merging in a set of objects into an existing collection and emitting change events appropriately. For a detailed overview of the events that are emitted by ampersand-collection, please refer to the <a href="http://ampersandjs.com/learn/events">Event Catalog</a> on the AmpersandJS learn page.<br><br>If you extend it with a <code>.model</code> property that contains a constructor, the collection will ensure that objects that don’t match that constructor are instantiated before being added to the collection.<br><br>For example:<br><br><code>js
var Collection = require(&#39;ampersand-collection&#39;);

// can just store plain objects
var basicCollection = new Collection([
    {name: &#39;larry&#39;},
    {name: &#39;curly&#39;},
    {name: &#39;moe&#39;}
]);</code><br><br>Adding <a href="https://github.com/AmpersandJS/ampersand-collection-rest-mixin">ampersand-collection-rest-mixin</a> and <a href="http://github.com/AmpersandJS/ampersand-collection-underscore-mixin">ampersand-collection-underscore-mixin</a>.<br><br><code>js
var Collection = require(&#39;ampersand-collection&#39;);
var restMixin = require(&#39;ampersand-collection-rest-mixin&#39;);
var underscoreMixin = require(&#39;ampersand-collection-underscore-mixin&#39;);


// or we can extend it with underscore and REST methods
// to turn it into something similar to a Backbone Collection
var RestfulCollection = Collection.extend(underscoreMixin, restMixin, {
    url: &#39;/mystuff&#39;
});

var collection = new RestfulCollection();

// does ajax request
collection.fetch();</code><br><br>## A quick note about <code>instanceof</code> checks<br><br>Because of module deps in npm and browserify, sometimes it’s possible to end up in a situation where the same <code>collection</code> constructor wasn’t used to build a <code>collection</code> object. As a result, <code>instanceof</code> checks will fail.<br><br>To deal with this (because sometimes this is a legitimate scenario), <code>collection</code> simply creates a read-only <code>isCollection</code> property on all collection objects. You can use it to check whether or a not a given object is, in fact, a collection object—no matter what its constructor was.<br><!-- endhide -->

<h2 id="api-reference">API Reference<a class="anchor" href="#api-reference"></a></h2><h3 id="extend-code-ampersandcollection-extend-attributes-code-">extend <code>AmpersandCollection.extend([attributes])</code><a class="anchor" href="#extend-code-ampersandcollection-extend-attributes-code-"></a></h3><p>Create a collection class of your own by extending <code>AmpersandCollection</code>, providing the required instance properties to be attached instances of your class.</p>
<p>Typically you will specify a <code>model</code> constructor (if you are storing <a href="#ampersand-state">ampersand-state</a> or <a href="#ampersand-model">ampersand-model</a> objects).</p>
<h3 id="model-code-collection-model-code-">model <code>collection.model</code><a class="anchor" href="#model-code-collection-model-code-"></a></h3><p>Override this property to specify the model class that the collection contains. If defined, you can pass raw attributes objects (and arrays) to <code>add</code> and <code>reset</code>, and the attributes will be converted into a model of the proper type.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> Library = AmpersandCollection.extend({
    model: Book
});</code></pre>
</code></pre>
<p>A collection can also contain polymorphic models by overriding this property with a function that returns a model.</p>
<p><em>Please note</em> that if you do this, you’ll also want to override the <code>isModel</code> method with your own, and describe the logic used to determine whether an object is already an instantiated model or not.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> Library = AmpersandCollection.extend({

  model: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(attrs, options)</span> </span>{
    <span class="hljs-keyword">if</span> (condition) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PublicDocument(attrs, options);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrivateDocument(attrs, options);
    }
  },

  isModel: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(model)</span> </span>{
    <span class="hljs-keyword">return</span> model <span class="hljs-keyword">instanceof</span> PublicDocument || model <span class="hljs-keyword">instanceof</span> PrivateDocument;
  }

});</code></pre>
</code></pre>
<h3 id="constructor-initialize-code-new-ampersandcollection-models-options-code-">constructor/initialize <code>new AmpersandCollection([models], [options])</code><a class="anchor" href="#constructor-initialize-code-new-ampersandcollection-models-options-code-"></a></h3><p>When creating an <code>AmpersandCollection</code>, you may choose to pass in the initial array of <strong><code>models</code></strong>. The collection’s <a href="#comparator"><code>comparator</code></a> may be included as an option. If you define an <strong><code>initialize</code></strong> function, it will be invoked when the collection is created. There are a couple of options that, if provided, are attached to the collection directly: <code>model</code>, <code>comparator</code> and <code>parent</code>.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> people = <span class="hljs-keyword">new</span> AmpersandCollection([{ name: <span class="hljs-string">'phil'</span> }, { name: <span class="hljs-string">'bob'</span> }, { name: <span class="hljs-string">'jane'</span> }], {
    model: Person
});</code></pre>
</code></pre>
<h3 id="mainindex-code-collection-mainindex-code-">mainIndex <code>collection.mainIndex</code><a class="anchor" href="#mainindex-code-collection-mainindex-code-"></a></h3><p>Specify which property the collection should use as the main index (and unique identifier) for the models/objects it holds. This is the property that <a href="#ampersand-collection-get"><code>get</code></a> uses to retrieve models, and what <code>add</code>, <code>set</code>, and <code>remove</code> uses to determine whether a collection already contains a model or not. </p>
<p>If you specify a <a href="http://ampersandjs.com/docs#ampersand-collection-model"><code>model</code></a> property in the collection, and the model specifies an <a href="http://ampersandjs.com/docs#ampersand-state-idattribute"><code>idAttribute</code></a>, the collection will use <em>that</em> as the <code>mainIndex</code> unless you explicitly set it to something else.</p>
<p>If <em>no</em> <code>mainIndex</code> or <code>model</code> is specified <code>&quot;id&quot;</code> is used as the default <code>mainIndex</code>.</p>
<p>This means, that <em>most</em> of the time you don’t need to set <code>mainIndex</code> and things will still Just Work™.</p>
<p>But if you wish, you may set it while extending <code>AmpersandCollection</code> like so:</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> People = AmpersandCollection.extend({
    mainIndex: <span class="hljs-string">'_id'</span>
});</code></pre>
</code></pre>
<h3 id="indexes-code-collections-indexes-code-">indexes <code>collections.indexes</code><a class="anchor" href="#indexes-code-collections-indexes-code-"></a></h3><p>Specify an optional array of keys to serve as additional indexes for the models in your collection (in addition to <code>mainIndex</code>). This allows you to quickly retrieve models by specifying the key to use with <a href="#ampersand-collection-get"><code>get</code></a>.</p>
<p>Note that <code>get</code> will only ever return a single model, so the values of these indexes should be unique across the models in the collection:</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> People = AmpersandCollection.extend({
    mainIndex: <span class="hljs-string">'_id'</span>,

    indexes: [<span class="hljs-string">'otherId'</span>]
});

<span class="hljs-keyword">var</span> people = <span class="hljs-keyword">new</span> People.add([
    { _id: <span class="hljs-number">1</span>, otherId: <span class="hljs-string">'a'</span>, name: <span class="hljs-string">'Phil'</span> },
    { _id: <span class="hljs-number">2</span>, otherId: <span class="hljs-string">'b'</span>, name: <span class="hljs-string">'Julie'</span> },
    { _id: <span class="hljs-number">3</span>, otherId: <span class="hljs-string">'c'</span>, name: <span class="hljs-string">'Henrik'</span> },
    { _id: <span class="hljs-number">4</span>, otherId: <span class="hljs-string">'d'</span>, name: <span class="hljs-string">'Jenn'</span> }
]);

people.get(<span class="hljs-number">1</span>) <span class="hljs-comment">//=&gt; { _id: 1, otherId: 'a', name: 'Phil' }</span>

people.get(<span class="hljs-string">'b'</span>, <span class="hljs-string">'otherId'</span>) <span class="hljs-comment">//=&gt; { _id: 2, otherId: 'b', name: 'Julie' },</span></code></pre>
</code></pre>
<h3 id="length-code-collection-length-code-">length <code>collection.length</code><a class="anchor" href="#length-code-collection-length-code-"></a></h3><p>Returns the <code>length</code> of the underlying array.</p>
<h3 id="iscollection-instanceof-code-collection-iscollection-code-">isCollection/instanceof <code>collection.isCollection</code><a class="anchor" href="#iscollection-instanceof-code-collection-iscollection-code-"></a></h3><p>Because of module deps in npm and browserify, sometimes it’s possible to end up in a situation where the same <code>collection</code> constructor wasn’t used to build a <code>collection</code> object. As a result, <code>instanceof</code> checks will fail. </p>
<p>To deal with this (because sometimes this is a legitimate scenario), <code>collection</code> simply creates a read-only <code>isCollection</code> property on all collection objects. You can use it to check whether or a not a given object is, in fact, a collection object—no matter what its constructor was.</p>
<h3 id="add-code-collection-add-modelorobject-options-code-">add <code>collection.add(modelOrObject, [options])</code><a class="anchor" href="#add-code-collection-add-modelorobject-options-code-"></a></h3><p>Add a model (or an array of models) to the collection, firing an <code>&quot;add&quot;</code> event. If a <a href="#ampersand-collection-model"><code>model</code></a> property is defined, you may also pass raw attributes objects, and have them be vivified as instances of the model. Returns the added models (or preexisting models, if already contained).</p>
<p><strong>Options:</strong></p>
<ul>
<li>Pass <code>{at: index}</code> to splice the model into the collection at the specified index.</li>
<li>If you’re adding models to the collection that it already contains, they’ll be ignored, unless you pass <code>{merge: true}</code>, in which case their attributes will be merged into the corresponding models, firing any appropriate <code>&quot;change&quot;</code> events.</li>
</ul>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> ships = <span class="hljs-keyword">new</span> AmpersandCollection();

ships.on(<span class="hljs-string">"add"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ship)</span> </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Ahoy "</span> + ship.name + <span class="hljs-string">"!"</span>);
});

ships.add([
  {name: <span class="hljs-string">"Flying Dutchman"</span>},
  {name: <span class="hljs-string">"Black Pearl"</span>}
]);

<span class="hljs-comment">//logs:</span>
<span class="hljs-comment">//- "Ahoy Flying Dutchman!"</span>
<span class="hljs-comment">//- "Ahoy Black Pearl!"</span></code></pre>
</code></pre>
<p>Note that adding the same model (a model with the same <code>id</code>) to a collection more than once is a no-op.</p>
<h3 id="serialize-code-collection-serialize-code-">serialize <code>collection.serialize()</code><a class="anchor" href="#serialize-code-collection-serialize-code-"></a></h3><p>Serialize the collection into a plain javascript array, ready for sending to the server (typically called via <a href="#ampersand-collection-tojson"><code>toJSON</code></a>). Also calls <code>serialize()</code> on each model in the collection.</p>
<h3 id="tojson-code-collection-tojson-code-">toJSON <code>collection.toJSON()</code><a class="anchor" href="#tojson-code-collection-tojson-code-"></a></h3><p>Returns a plain javascript array of the models in the collection (which are also serialized), ready for sending to the server. The name of this method is a bit confusing, as it doesn’t actually return a JSON string — but I’m afraid that it’s the way that the JavaScript API for <code>JSON.stringify()</code> works.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> collection = <span class="hljs-keyword">new</span> AmpersandCollection([
    {name: <span class="hljs-string">"Tim"</span>, age: <span class="hljs-number">5</span>},
    {name: <span class="hljs-string">"Ida"</span>, age: <span class="hljs-number">26</span>},
    {name: <span class="hljs-string">"Rob"</span>, age: <span class="hljs-number">55</span>}
]);

<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(collection));
<span class="hljs-comment">//=&gt; "[{\"name\":\"Tim\",\"age\":5},{\"name\":\"Ida\",\"age\":26},{\"name\":\"Rob\",\"age\":55}]"</span></code></pre>
</code></pre>
<h3 id="set-code-collection-set-models-options-code-">set <code>collection.set(models, [options])</code><a class="anchor" href="#set-code-collection-set-models-options-code-"></a></h3><p>The <strong>set</strong> method performs a “smart” update of the collection with the passed list of models: </p>
<ul>
<li>If a model in the list isn’t in the collection, it will be added. </li>
<li>If a model in the list is in the collection already, its attributes will be merged. </li>
<li>If the collection contains any models that aren’t in the list, they’ll be removed. </li>
</ul>
<p>All of the appropriate <code>&quot;add&quot;</code>, <code>&quot;remove&quot;</code>, and <code>&quot;change&quot;</code> events are fired as this happens. If you’d like to customize the behavior, you can disable it with options: <code>{add: false}</code>, <code>{remove: false}</code>, or <code>{merge: false}</code>.</p>
<p>Returns the touched models in the collection.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> vanHalen = <span class="hljs-keyword">new</span> AmpersandCollection([eddie, alex, stone, roth]);

vanHalen.set([eddie, alex, stone, hagar]);

<span class="hljs-comment">// Fires a "remove" event for roth, and an "add" event for "hagar".</span>
<span class="hljs-comment">// Updates any of stone, alex, and eddie's attributes that may have</span>
<span class="hljs-comment">// changed over the years.</span></code></pre>
</code></pre>
<h3 id="get-code-collection-get-query-indexname-code-">get <code>collection.get(query, [indexName])</code><a class="anchor" href="#get-code-collection-get-query-indexname-code-"></a></h3><p>Retrieve a model from the collection by index.</p>
<p>If called without <code>indexName</code> (<code>collection.get(123)</code>), retrieves the model by its <a href="#ampersand-collection-mainindex"><code>mainIndex</code></a> attribute.</p>
<p>Alternatively, specify an <code>indexName</code> to retrieve a model by any of the other listed <a href="#ampersand-collection-indexes"><code>indexes</code></a>.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> People = AmpersandCollection.extend({
    mainIndex: <span class="hljs-string">'_id'</span>,

    indexes: [<span class="hljs-string">'otherId'</span>]
});

<span class="hljs-keyword">var</span> people = <span class="hljs-keyword">new</span> People.add([
    { _id: <span class="hljs-number">1</span>, otherId: <span class="hljs-string">'a'</span>, name: <span class="hljs-string">'Phil'</span> },
    { _id: <span class="hljs-number">2</span>, otherId: <span class="hljs-string">'b'</span>, name: <span class="hljs-string">'Julie'</span> },
    { _id: <span class="hljs-number">3</span>, otherId: <span class="hljs-string">'c'</span>, name: <span class="hljs-string">'Henrik'</span> },
    { _id: <span class="hljs-number">4</span>, otherId: <span class="hljs-string">'d'</span>, name: <span class="hljs-string">'Jenn'</span> }
]);

people.get(<span class="hljs-number">1</span>) <span class="hljs-comment">//=&gt; { _id: 1, otherId: 'a', name: 'Phil' }</span>

people.get(<span class="hljs-string">'b'</span>, <span class="hljs-string">'otherId'</span>) <span class="hljs-comment">//=&gt; { _id: 2, otherId: 'b', name: 'Julie' },</span></code></pre>
</code></pre>
<h3 id="at-code-collection-at-index-code-">at <code>collection.at(index)</code><a class="anchor" href="#at-code-collection-at-index-code-"></a></h3><p>Get a model from a collection, specified by <code>index</code>. Useful if your collection is sorted. </p>
<p>If your collection isn’t sorted, <code>at()</code> will still retrieve models in insertion order; e.g., <code>collection.at(0)</code> returns the first model in the collection.</p>
<h3 id="remove-code-collection-remove-models-options-code-">remove <code>collection.remove(models, [options])</code><a class="anchor" href="#remove-code-collection-remove-models-options-code-"></a></h3><p>Remove a model (or an array of models) from the collection, and returns them. Fires a <code>&quot;remove&quot;</code> event, which you can use the option <code>{ silent: true }</code> to suppress. The model’s index before removal is available to listeners as <code>options.index</code>.</p>
<p>The models object/array can be references to actual models, or just a list of <code>id</code>s to remove.</p>
<h3 id="reset-code-collection-reset-models-options-code-">reset <code>collection.reset(models, [options])</code><a class="anchor" href="#reset-code-collection-reset-models-options-code-"></a></h3><p>Adding and removing models one at a time is all well and good, but sometimes there are so many models to change that you’d rather just update the collection in bulk. Use <strong><code>reset()</code></strong> to replace a collection with a new list of models (or attribute hashes), triggering a single <code>&quot;reset&quot;</code> event at the end. For convenience, within a <code>&quot;reset&quot;</code> event, the list of any previous models is available as <code>options.previousModels</code>.</p>
<p>Returns the newly-set models. </p>
<p>Calling <code>collection.reset()</code> without passing any models as arguments will empty the entire collection.</p>
<h3 id="sort-code-collection-sort-options-code-">sort <code>collection.sort([options])</code><a class="anchor" href="#sort-code-collection-sort-options-code-"></a></h3><p>Force a collection to re-sort itself. Triggers a <code>&quot;sort&quot;</code> event on the collection. </p>
<p>You don’t need to call this under normal circumstances, as a collection with a <code>comparator</code> will sort itself whenever a model is added. To prevent this when adding a model, pass a <code>{sort: false}</code> option to <code>add()</code>.</p>
<h3 id="models-code-collection-models-code-">models <code>collection.models</code><a class="anchor" href="#models-code-collection-models-code-"></a></h3><p>Raw access to the JavaScript array of models inside of the collection. Usually you’ll want to use <code>get</code>, <code>at</code>, or the <a href="#ampersand-collection-proxied-es5-array-methods-9">proxied array methods</a> to access model objects, but occasionally a direct reference to the array is desired.</p>
<h3 id="comparator">comparator<a class="anchor" href="#comparator"></a></h3><p>The <code>comparator</code> option lets you define how models in a collection are sorted. There’s a few ways to declare <code>comparator</code>:</p>
<ul>
<li>Passing <code>false</code> prevents sorting</li>
<li>Passing <code>string</code> sorts the collection by a specific model attribute</li>
<li>Passing <code>function</code> will use native array <code>sort</code> function; which you can define with either 1 argument (each model one by one), or multiple arguments (which lets you write custom compare functions with next 2 models as arguments).</li>
</ul>
<h3 id="proxied-es5-array-methods-9-">proxied ES5 array methods (9)<a class="anchor" href="#proxied-es5-array-methods-9-"></a></h3><p>The base <code>AmpersandCollection</code> proxies some basic ES5 methods to the underlying model array. Further documentation of these methods is available at <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Iteration_methods">MDN</a></p>
<ul>
<li>indexOf</li>
<li>lastIndexOf</li>
<li>every</li>
<li>some</li>
<li>forEach</li>
<li>each (alias for forEach)</li>
<li>map</li>
<li>filter</li>
<li>reduce</li>
<li>reduceRight</li>
</ul>
<p>Unlike Backbone collections, it does not include Underscore and all of its array methods. But if you want more functions than those built into modern browsers, you can mixin <a href="https://github.com/AmpersandJS/ampersand-collection-underscore-mixin"><code>ampersand-collection-underscore-mixin</code></a> to get them.</p>
<pre><code class="lang-javascript"><pre><code class="javascript"><span class="hljs-keyword">var</span> people = People([
    { name: <span class="hljs-string">'Phil'</span>, hatColor: <span class="hljs-string">'red'</span> },
    { name: <span class="hljs-string">'Jenn'</span>, hatColor: <span class="hljs-string">'green'</span> },
    { name: <span class="hljs-string">'Henrik'</span>, hatColor: <span class="hljs-string">'blue'</span> },
    { name: <span class="hljs-string">'Julie'</span>, hatColor: <span class="hljs-string">'yellow'</span> }
]);

people.map(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(person)</span> </span>{ <span class="hljs-keyword">return</span> person.name; }) <span class="hljs-comment">//=&gt; ['Phil', 'Jenn', 'Henrik', 'Julie']</span>

people.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(person)</span> </span>{
    <span class="hljs-keyword">return</span> person.name[<span class="hljs-number">0</span>] === <span class="hljs-string">'J'</span>;
}) <span class="hljs-comment">//=&gt; ['Jenn', 'Julie']</span></code></pre>
</code></pre>
<!-- starthide -->

<h2 id="credits">credits<a class="anchor" href="#credits"></a></h2><p>Created by <a href="http://twitter.com/henrikjoreteg">@HenrikJoreteg</a>, but many ideas and some code (especially for <code>set()</code>) should be credited to Jeremy Ashkenas and the rest of the Backbone.js authors. </p>
<h2 id="license">license<a class="anchor" href="#license"></a></h2><p>MIT</p>
<!-- endhide -->

  </div>


  <script src="../../assets/scripts/scripts.js"></script>
  <script>
  var config = {"files":["Gruntfile.js","README.md","lib/blocks-collection.js","lib/index.js","lib/rendering-utils.js","node_modules/ampersand-collection/README.md","node_modules/ampersand-collection/ampersand-collection.js","node_modules/ampersand-model/README.md","node_modules/ampersand-model/ampersand-model.js","node_modules/faceted-search/README.md","node_modules/faceted-search/index.js","node_modules/faceted-search/results.js","node_modules/faceted-search/styles.css","node_modules/files-collection/DOCUMENTATION.md","node_modules/files-collection/README.md","node_modules/files-collection/index.js","node_modules/files-collection/node.js","resources/test/README.md","resources/test/dir/README.md","resources/test/dir/sub/README.md","resources/themes/README.md","resources/themes/default/README.md","resources/themes/default/assets/scripts/scripts.src.js","resources/themes/default/assets/styles/styles.css","resources/themes/default/file.jst","resources/themes/default/navigation-item.jst","resources/themes/default/navigation.jst","tasks/gtfd.js"],"active":"node_modules/ampersand-collection"};
  config.files = (config.files || []).map(function (filepath) {
    return { filepath: filepath };
  });
  config.el = document.body;
  new gtfd(config);
  </script>
</body>
</html>
